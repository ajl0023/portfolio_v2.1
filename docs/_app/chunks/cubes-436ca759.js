let b={random:function(o,a){return Math.random()*(a-o)+o},arrayRandom:function(o){return o[Math.floor(Math.random()*o.length)]},interpolate:function(o,a,s){return o*(1-s)+a*s},rangePosition:function(o,a,s){return(s-o)/(a-o)},clamp:function(o,a,s){return Math.max(Math.min(o,s),a)},queryArray:function(o,a){return a||(a=document.body),Array.prototype.slice.call(a.querySelectorAll(o))},ready:function(o){document.readyState=="complete"?o():document.addEventListener("DOMContentLoaded",o)}};const N=matchMedia("(prefers-reduced-motion)").matches;{const o=(t,n)=>p.forEach(e=>{if(t[e]+=n[e],Math.abs(t[e])<360)return;const r=Math.max(t[e],360),u=r==360?Math.abs(t[e]):360;t[e]=r-u}),a=t=>t>E+30;let s=!1;const q=document.getElementById("cube-template"),x=document.getElementById("header-hero"),M=()=>x.getBoundingClientRect().width;let E=M();window.addEventListener("resize",()=>E=M());const p=["x","y"],v={white:{color:[131,96,255],shading:[160,190,218]},orange:{color:[255,250,230],shading:[255,120,50]},green:{color:[46,255,204],shading:[0,211,136]}},k=({cube:t,size:n,left:e,top:r})=>{Object.assign(t.style,{width:`${n}px`,height:`${n}px`,left:`${e}px`,top:`${r}px`}),Object.assign(t.querySelector(".shadow").style,{filter:`blur(${Math.round(n*.6)}px)`,opacity:Math.min(n/120,.4)})},I=t=>{const n=document.importNode(q.content,!0),e=n.querySelector(".cube"),r={x:0,y:0},u=p.reduce((h,i)=>{const m=t>$.m?.3:.6;return h[i]=b.random(-m,m),h},{}),d=b.queryArray(".sides div",e).reduce((h,i)=>(h[i.className]={side:i,hidden:!1,rotate:{x:0,y:0}},h),{});return d.top.rotate.x=90,d.bottom.rotate.x=-90,d.left.rotate.y=-90,d.right.rotate.y=90,d.back.rotate.y=-180,{fragment:n,cube:e,state:r,speed:u,sides:Object.values(d)}},$={xs:15,s:25,m:40,l:100,xl:120},g=[{tint:v.green,size:$.xl,bottom:0,right:0}].map(t=>Object.assign(I(t.size),t));g.forEach(k);const A=(t,n)=>p.reduce((e,r)=>(e[r]=Math.abs(t[r]+n[r]),e),{}),L=(t,n,e)=>{const r=e.x?"Z":"Y",u=e.x>0?-1:1;return`
		  rotateX(${t.x+e.x}deg)
		  rotate${r}(${u*(t.y+e.y)}deg)
		  translateZ(${n/2}px)
		`},O=(t,n,e)=>{const r=p.reduce((c,l)=>{const f=e[l],S=f/180;return c[l]=f>180?Math.abs(2-S):S,c},{});if(n.x)r.y=0;else{const{x:c}=e;c>90&&c<270&&p.forEach(l=>r[l]=1-r[l])}const u=(r.x+r.y)/2,d=(c,l)=>Math.round(b.interpolate(c,t.shading[l],u)),[h,i,m]=t.color.map(d);return`rgb(${h}, ${i}, ${m})`},B=(t,n,e)=>t?n>90&&n<270:n<90?e>90&&e<270:n<270?e<90:e>90&&e<270,R=({state:t,speed:n,size:e,tint:r,sides:u,left:d})=>{if(s||a(d))return;const h=i=>{const{side:m,rotate:c,hidden:l}=i,f=A(t,c);if(B(c.x,f.x,f.y)){l||(m.hidden=!0,i.hidden=!0);return}l&&(m.hidden=!1,i.hidden=!1),m.style.transform=L(t,e,c),m.style.backgroundColor=O(r,c,f)};o(t,n),u.forEach(h)},w=()=>{g.forEach(R),!N&&requestAnimationFrame(w)},H=document.querySelector("main > header").getBoundingClientRect().height+80;window.addEventListener("scroll",()=>{const t=window.scrollY;if(t<H){s=!1,g.forEach(({cube:n,speed:e})=>n.style.transform=`translateY(${Math.abs(e.x*.5)*t}px)`);return}s=!0});const y=document.createElement("div");y.className="cubes",g.forEach(({fragment:t})=>y.appendChild(t));const C=()=>{w(),x.appendChild(y)};"requestIdleCallback"in window?requestIdleCallback(C):C()}var Y="";export{Y as default};
